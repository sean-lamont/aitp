defaults:
  - data_config
  - optimiser_config
  - logging_config

data_config:
  type: graph
  batch_size: 16
  data_options:
    thms_col: 'train_thm_ls'
    # use a MongoDB cursor to retrieve expression data, rather than save in memory
    dict_in_memory: False
    db: 'holist' # MongoDB database source


data_config.batch_size: 16

resume: False

num_tactics: 41
tac_embed_dim: 128
final_embed_dim: 1024

val_size: 40000
epochs: 20
limit_val_batches: True
val_frequency: 2048
batch_size: 15

exp_config:
  name: ???
  experiment: holist_pretrain
  directory: experiments/runs/${.experiment}/${now:%Y_%m_%d}/${.name}_${now:%H_%M_%S}
  checkpoint_dir: ${.directory}/checkpoints
  accelerator: gpu
  device: [0]

model_config:
  model_type: ???
  model_attributes: ???

hydra:
  run:
    dir: ${exp_config.directory}
  job:
    chdir: False

hydra.verbose: True
